{% extends '@Front/layout.html.twig' %}

{% form_theme form _self %}

{% block form_errors %}
    {% if errors|length %}
        <span class="tooltip has-danger">
            {% for error in errors %}
                {{ error.messageTemplate|trans(error.messageParameters, 'validators') }}<br/>
            {% endfor %}
        </span>
    {% endif %}
{% endblock %}

{% block body %}
    <div class="main">
        <div class="center">
            {{ form_start(form) }}
            {% if errors is not null %}
                {% for error in errors %}
                    <div class="control-group error-message animated jello"><p>{{ error.message|trans }}</p></div>
                {% endfor %}
            {% endif %}
            {{ form_errors(form) }}
            <div class="control-group{% if form.title.vars.errors|length %} has-danger{% endif %}">
                {{ form_widget(form.title) }}
                {{ form_errors(form.title) }}
            </div>
            <div class="control-group{% if form.coverPicture.url.vars.errors|length %} has-danger{% endif %}">
                {{ form_widget(form.coverPicture.url) }}
                {{ form_errors(form.coverPicture.url) }}
            </div>
            <input class="btn btn-primary btn-large" type="submit" value="{{ 'post.action.publish'|trans }}"/>
            {{ form_end(form) }}
        </div>
        {{ form(form) }}
    </div>
{% endblock %}

